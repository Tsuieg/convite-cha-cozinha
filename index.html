<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ChÃ¡ de Cozinha ğŸ’›</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --principal:#e8c07d;
  --fundo:#faf7f2;
  --card:#ffffff;
  --texto:#3b2f1c;
}
body{margin:0;font-family:Arial,sans-serif;background:var(--fundo);color:var(--texto);}
header{background:var(--principal);text-align:center;padding:20px;}
main{max-width:820px;margin:auto;padding:15px;}
h2{margin-top:30px;border-bottom:2px solid var(--principal);padding-bottom:5px;}
.item{background:var(--card);margin-top:8px;padding:10px;border-radius:8px;display:flex;gap:10px;align-items:center;}
.item.escolhido{background:#eee;opacity:.6;text-decoration:line-through;}
button{width:100%;margin:25px 0;padding:15px;font-size:18px;background:var(--principal);border:none;border-radius:10px;cursor:pointer;}
#popup{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index: 1000;}
#popupContent{background:#fff;padding:20px;border-radius:10px;width:90%;max-width:400px;text-align:center;}
input[type=text]{width:100%;padding:12px;font-size:16px;margin-top:10px;box-sizing: border-box;}
</style>
</head>
<body>

<header>
<h1>ğŸ’› ChÃ¡ de Cozinha ğŸ’›</h1>
<p>Escolha um presente e confirme sua presenÃ§a</p>
</header>

<div id="popup">
  <div id="popupContent">
    <h3>Digite seu nome</h3>
    <input type="text" id="nome" placeholder="Seu nome">
    <button onclick="fecharPopup()">Continuar</button>
  </div>
</div>

<main>
<h2>ğŸ³ COZINHA</h2>
<div class="item" data-item="Lixeira de cozinha (mÃ©dia ou grande)"><input type="radio" name="presente" value="Lixeira de cozinha (mÃ©dia ou grande)"> Lixeira de cozinha (mÃ©dia ou grande)</div>
<div class="item" data-item="Jogo de potes hermÃ©ticos"><input type="radio" name="presente" value="Jogo de potes hermÃ©ticos"> Jogo de potes hermÃ©ticos</div>
<div class="item" data-item="Jogo de pratos"><input type="radio" name="presente" value="Jogo de pratos"> Jogo de pratos</div>
<h2>â˜• ELETROPORTÃTEIS</h2>
<div class="item" data-item="Air Fryer"><input type="radio" name="presente" value="Air Fryer"> Air Fryer</div>

<button id="btnConfirmar" onclick="enviar()">Confirmar Presente âœ…</button>
</main>

<script>
// --- CONFIGURAÃ‡ÃƒO GOOGLE FORMS ---
// ATENÃ‡ÃƒO: Substitua 'SUA_URL_AQUI' pelo ID do seu formulÃ¡rio
const GOOGLE_FORM_URL = "https://docs.google.com/forms/u/0/d/e/SUA_URL_AQUI/formResponse";
const ID_ENTRY_NOME = "entry.656967251"; 
const ID_ENTRY_PRESENTE = "entry.6373781";

const escolhidos = JSON.parse(localStorage.getItem("presentesEscolhidos")) || [];
const inputNome = document.getElementById("nome");

// Marcar itens jÃ¡ escolhidos localmente
document.querySelectorAll(".item").forEach(i => {
 if(escolhidos.includes(i.dataset.item)){
  i.classList.add("escolhido");
  i.querySelector("input").disabled = true;
 }
});

function fecharPopup(){
 if(!inputNome.value.trim()){ alert("Por favor, digite seu nome"); return; }
 document.getElementById("popup").style.display = "none";
}

function enviar(){
 const itemMarcado = document.querySelector('input[name="presente"]:checked');
 const nomeValue = inputNome.value.trim();

 if(!nomeValue || !itemMarcado){ 
   alert("Selecione um presente e preencha seu nome!"); 
   return; 
 }

 // Desativar botÃ£o para evitar cliques duplos
 const btn = document.getElementById("btnConfirmar");
 btn.disabled = true;
 btn.innerText = "Enviando...";

 // Criar dados para o envio
 const formData = new FormData();
 formData.append(ID_ENTRY_NOME, nomeValue);
 formData.append(ID_ENTRY_PRESENTE, itemMarcado.value);

 // Enviar para o Google Forms
 fetch(GOOGLE_FORM_URL, {
  method: "POST",
  mode: "no-cors",
  body: formData
 }).then(() => {
  escolhidos.push(itemMarcado.value);
  localStorage.setItem("presentesEscolhidos", JSON.stringify(escolhidos));
  alert("Presente confirmado! Obrigado ğŸ’›");
  location.reload();
 }).catch(err => {
  alert("Erro ao enviar. Verifique sua conexÃ£o.");
  btn.disabled = false;
  btn.innerText = "Confirmar Presente âœ…";
 });
}
</script>

</body>
</html>

</body>
</html>


