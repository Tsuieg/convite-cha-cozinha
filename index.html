<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ch√° de Cozinha üíõ</title>
    <style>
        :root { --principal:#e8c07d; --fundo:#faf7f2; --card:#ffffff; --texto:#3b2f1c; }
        body { margin:0; font-family: sans-serif; background:var(--fundo); color:var(--texto); }
        header { background:var(--principal); text-align:center; padding:20px; cursor: pointer; }
        main { max-width:600px; margin:auto; padding:15px; padding-bottom: 150px; }
        h2 { border-bottom:2px solid var(--principal); padding-bottom:5px; margin-top: 25px; font-size: 1.2rem; }
        .item { background:var(--card); margin-top:8px; padding:12px; border-radius:8px; display:flex; gap:10px; align-items:center; border: 1px solid #ddd; }
        .item.escolhido { background:#eee; opacity:.5; text-decoration:line-through; }
        button { width:100%; padding:15px; font-size:18px; background:var(--principal); border:none; border-radius:10px; cursor:pointer; font-weight: bold; }
        #popup { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); display:flex; align-items:center; justify-content:center; z-index:9999; }
        #popupContent { background:#fff; padding:25px; border-radius:15px; width:80%; max-width:320px; text-align:center; }
        input[type=text] { width:100%; padding:15px; font-size:16px; margin: 15px 0; border:1px solid #ccc; border-radius:8px; box-sizing:border-box; }
        #btnConfirmar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 500px; box-shadow: 0 -5px 15px rgba(0,0,0,0.1); z-index: 100; }
    </style>
</head>
<body>

<header id="cabecalho">
    <h1>üíõ Ch√° de Cozinha üíõ</h1>
</header>

<div id="popup">
    <div id="popupContent">
        <h3>Seja bem-vindo(a)!</h3>
        <input type="text" id="campoNome" placeholder="Digite seu nome completo" autocomplete="off">
        <button id="btnContinuarPopup">Entrar na Lista</button>
    </div>
</div>

<main>
    <h2>üç≥ COZINHA</h2>
    <div class="item" data-item="Lixeira de cozinha (m√©dia ou grande)"><input type="radio" name="p" value="Lixeira de cozinha (m√©dia ou grande)"> Lixeira de cozinha (m√©dia ou grande)</div>
    <div class="item" data-item="Jogo de potes herm√©ticos (pequenos)"><input type="radio" name="p" value="Jogo de potes herm√©ticos (pequenos)"> Jogo de potes herm√©ticos (pequenos)</div>
    <div class="item" data-item="Potes organizadores (arroz, feij√£o, a√ß√∫car e sal)"><input type="radio" name="p" value="Potes organizadores (arroz, feij√£o, a√ß√∫car e sal)"> Potes organizadores (arroz, feij√£o, a√ß√∫car e sal)</div>
    <div class="item" data-item="Potes de vidro com tampa"><input type="radio" name="p" value="Potes de vidro com tampa"> Potes de vidro com tampa</div>
    <div class="item" data-item="Potes pl√°sticos com veda√ß√£o"><input type="radio" name="p" value="Potes pl√°sticos com veda√ß√£o"> Potes pl√°sticos com veda√ß√£o</div>
    <div class="item" data-item="Jogo de pratos"><input type="radio" name="p" value="Jogo de pratos"> Jogo de pratos</div>
    <div class="item" data-item="Jogo de talheres (metal)"><input type="radio" name="p" value="Jogo de talheres (metal)"> Jogo de talheres (metal)</div>
    <div class="item" data-item="Jogo de facas"><input type="radio" name="p" value="Jogo de facas"> Jogo de facas</div>
    <div class="item" data-item="Frigideira antiaderente"><input type="radio" name="p" value="Frigideira antiaderente"> Frigideira antiaderente</div>
    <div class="item" data-item="Kit fondue"><input type="radio" name="p" value="Kit fondue"> Kit fondue</div>
    <div class="item" data-item="Assadeiras (retangular e redonda)"><input type="radio" name="p" value="Assadeiras (retangular e redonda)"> Assadeiras (retangular e redonda)</div>
    <div class="item" data-item="Tigelas / bowls"><input type="radio" name="p" value="Tigelas / bowls"> Tigelas / bowls</div>
    <div class="item" data-item="T√°buas de corte"><input type="radio" name="p" value="T√°buas de corte"> T√°buas de corte</div>
    <div class="item" data-item="Kit 3 Fouet Inox Batedor Ovos"><input type="radio" name="p" value="Kit 3 Fouet Inox Batedor Ovos"> Kit 3 Fouet Inox Batedor Ovos</div>
    <div class="item" data-item="Escorredor de lou√ßa"><input type="radio" name="p" value="Escorredor de lou√ßa"> Escorredor de lou√ßa</div>
    <div class="item" data-item="Panos de prato"><input type="radio" name="p" value="Panos de prato"> Panos de prato</div>
    <div class="item" data-item="Utens√≠lios De Cozinha Com Cabo Silicone com facas"><input type="radio" name="p" value="Utens√≠lios De Cozinha Com Cabo Silicone com facas"> Utens√≠lios De Cozinha Com Cabo Silicone com facas</div>
    <div class="item" data-item="jogo potes herm√©rticos (grandes) "><input type="radio" name="p" value="jogo potes herm√©rticos (grandes)"> jogo potes herm√©rticos (grandes)</div>
    <div class="item" data-item="Porta-temperos"><input type="radio" name="p" value="Porta-temperos"> Porta-temperos</div>
    <div class="item" data-item="Kit 3 Formas Antiaderente Fundo Remov√≠vel "><input type="radio" name="p" value="Kit 3 Formas Antiaderente Fundo Remov√≠vel"> Kit 3 Formas Antiaderente Fundo Remov√≠vel</div>
    <div class="item" data-item="kit medidores de x√≠caras "><input type="radio" name="p" value="kit medidores de x√≠caras"> kit medidores de x√≠caras </div>
    <div class="item" data-item="Esp√°tulas mateigas"><input type="radio" name="p" value="Esp√°tulas mateigas"> Esp√°tulas mateigas</div>
    
    <h2>‚òï ELETROPORT√ÅTEIS</h2>
    <div class="item" data-item="Extrator de suco"><input type="radio" name="p" value="Extrator de suco"> Extrator de suco</div>
    <div class="item" data-item="Batedeira"><input type="radio" name="p" value="Batedeira"> Batedeira</div>
    <div class="item" data-item="Liquidificador"><input type="radio" name="p" value="Liquidificador"> Liquidificador</div>
    <div class="item" data-item="Mixer"><input type="radio" name="p" value="Mixer"> Mixer</div>
    <div class="item" data-item="Cafeteira"><input type="radio" name="p" value="Cafeteira"> Cafeteira</div>
    <div class="item" data-item="Sanduicheira preta (127v)"><input type="radio" name="p" value="Sanduicheira preta (127v)"> Sanduicheira preta (127v)</div>
    <div class="item" data-item="Micro-ondas"><input type="radio" name="p" value="Micro-ondas"> Micro-ondas</div>
    <div class="item" data-item="multi-processador 3 em 1"><input type="radio" name="p" value="multi-processador 3 em 1"> multi-processador 3 em 1</div>
    <div class="item" data-item="Purificador de √°gua"><input type="radio" name="p" value="Purificador de √°gua"> Purificador de √°gua</div>
   
    <h2>üçΩÔ∏è CAMA, MESA & CAF√â</h2>
    <div class="item" data-item="X√≠caras ou canecas"><input type="radio" name="p" value="X√≠caras ou canecas"> X√≠caras ou canecas</div>
    <div class="item" data-item="Copos (√°gua e suco)"><input type="radio" name="p" value="Copos (√°gua e suco)"> Copos (√°gua e suco)</div>
    <div class="item" data-item="Ta√ßas (vinho ou bebidas)"><input type="radio" name="p" value="Ta√ßas (vinho ou bebidas)"> Ta√ßas (vinho ou bebidas)</div>
    <div class="item" data-item="Jarra de suco"><input type="radio" name="p" value="Jarra de suco"> Jarra de suco</div>
    <div class="item" data-item="Travessas para servir"><input type="radio" name="p" value="Travessas para servir"> Travessas para servir</div>
    <div class="item" data-item="Jogo de cama"><input type="radio" name="p" value="Jogo de cama"> Jogo de cama</div>
    <div class="item" data-item="Jogo de cortinas"><input type="radio" name="p" value="Jogo de cortinas"> Jogo de cortinas</div>
    <div class="item" data-item="Garrafa t√©rmica"><input type="radio" name="p" value="Garrafa t√©rmica"> Garrafa t√©rmica</div>
   
    <h2>üß∫ LAVANDERIA E LIMPEZA</h2>
    <div class="item" data-item="Cesto de roupas sujas"><input type="radio" name="p" value="Cesto de roupas sujas"> Cesto de roupas sujas</div>
    <div class="item" data-item="Lixeira para lavanderia"><input type="radio" name="p" value="Lixeira para lavanderia"> Lixeira para lavanderia</div>
    <div class="item" data-item="Balde, Vassoura e Rodo"><input type="radio" name="p" value="Balde, Vassoura e Rodo"> Balde, Vassoura e Rodo</div>
    <div class="item" data-item="Varal e Prendedores"><input type="radio" name="p" value="Varal e Prendedores"> Varal e Prendedores</div>
    <div class="item" data-item="Ferro de passar a vapor"><input type="radio" name="p" value="Ferro de passar a vapor"> Ferro de passar a vapor</div>
    <div class="item" data-item="T√°bua de passar"><input type="radio" name="p" value="T√°bua de passar"> T√°bua de passar</div>
    <div class="item" data-item="M√°quina de lavar 10kg"><input type="radio" name="p" value="M√°quina de lavar 10kg"> M√°quina de lavar 10kg</div>
   
    <h2>üöø BANHEIRO</h2>
    <div class="item" data-item="Lixeira de banheiro"><input type="radio" name="p" value="Lixeira de banheiro"> Lixeira de banheiro</div>
    <div class="item" data-item="Jogo de toalhas banho"><input type="radio" name="p" value="Jogo de toalhas banho"> Jogo de toalhas banho</div>
    <div class="item" data-item="Tapete de banheiro"><input type="radio" name="p" value="Tapete de banheiro"> Tapete de banheiro</div>
    <div class="item" data-item="Conjunto de Banheiro"><input type="radio" name="p" value="Conjunto de Banheiro"> Conjunto de Banheiro</div>

    <h2>üõ†Ô∏è FERRAMENTAS</h2>
    <div class="item" data-item="Caixa de ferramentas"><input type="radio" name="p" value="Caixa de ferramentas"> Caixa de ferramentas</div>

    <h2>üõãÔ∏è EXTRAS √öTEIS</h2>
    <div class="item" data-item="Tapetes para casa"><input type="radio" name="p" value="Tapetes para casa"> Tapetes para casa</div>
    <div class="item" data-item="Kit Caixa organizadora"><input type="radio" name="p" value="Kit Caixa organizadora"> Kit Caixa organizadora</div>
    <div class="item" data-item="Extens√£o / filtro de linha"><input type="radio" name="p" value="Extens√£o / filtro de linha"> Extens√£o / filtro de linha</div>
    <div class="item" data-item="Cabides"><input type="radio" name="p" value="Cabides"> Cabides</div>

    <button id="btnConfirmar">Confirmar Presente ‚úÖ</button>
</main>

<script>
    const FORM_URL = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSc5hWc2UH-U3jASCdUcsnuomC6IH9UtouMZDAPrcPLEmpX7RA/formResponse";
    const ID_NOME = "entry.656967251";
    const ID_PRESENTE = "entry.6373781";

    const popup = document.getElementById("popup");
    const header = document.getElementById("cabecalho");
    const inputNome = document.getElementById("campoNome");
    const btnCont = document.getElementById("btnContinuarPopup");
    const btnConf = document.getElementById("btnConfirmar");

    const salvos = JSON.parse(localStorage.getItem("presentesEscolhidos")) || [];
    
    document.querySelectorAll(".item").forEach(el => {
        if(salvos.includes(el.dataset.item)) {
            el.classList.add("escolhido");
            const input = el.querySelector("input");
            if(input) input.disabled = true;
        }
    });

    const setupAction = (el, cb) => {
        el.addEventListener("pointerdown", function(e) {
            e.preventDefault();
            cb.call(this);
        }, { passive: false });
    };

    // TRUQUE DO RESET: Contador de cliques no cabe√ßalho
    let cliquesReset = 0;
    header.addEventListener("pointerdown", function() {
        cliquesReset++;
        if(cliquesReset === 5) {
            if(confirm("Admin: Deseja resetar sua lista local?")) {
                localStorage.removeItem("presentesEscolhidos");
                location.reload();
            }
            cliquesReset = 0;
        }
        setTimeout(() => { cliquesReset = 0; }, 3000); // Reseta o contador ap√≥s 3 segundos
    });

    setupAction(btnCont, function() {
        if(inputNome.value.trim().length < 2) { alert("Digite seu nome!"); return; }
        popup.style.display = "none";
        window.scrollTo(0,0);
    });

    setupAction(btnConf, function() {
        const sel = document.querySelector('input[name="p"]:checked');
        const nome = inputNome.value.trim();
        if(!sel) { alert("Escolha um presente primeiro!"); return; }

        this.disabled = true;
        this.innerText = "Enviando...";

        const fd = new FormData();
        fd.append(ID_NOME, nome);
        fd.append(ID_PRESENTE, sel.value);

        fetch(FORM_URL, { method: "POST", mode: "no-cors", body: fd }).then(() => {
            salvos.push(sel.value);
            localStorage.setItem("presentesEscolhidos", JSON.stringify(salvos));
            alert("Confirmado com sucesso! üíõ");
            location.reload();
        }).catch(() => {
            alert("Erro de conex√£o.");
            this.disabled = false;
            this.innerText = "Confirmar Presente ‚úÖ";
        });
    });
</script>
</body>
</html>
